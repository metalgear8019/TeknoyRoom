{"version":3,"sources":["meteor://ðŸ’»app/client/app.js"],"names":[],"mappings":"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","file":"/client/app.js","sourcesContent":["Session.setDefault('counter', 0);\n\nHelpers = {\n\tisEmpty: function (variable) {\n\t\tvar empty = false;\n\t\tif (variable === null ||\n\t\t\tvariable === undefined ||\n\t\t\tvariable === [] ||\n\t\t\tvariable === {} ||\n\t\t\tvariable === '')\n\t\t\t\tempty = true;\n\t\treturn empty;\n\t},\n\tgenerateRedirectRoute: function (splitPath, userType) {\n\t\tvar route = '/' + userType;\n\t\tif (!Helpers.isEmpty(splitPath) && splitPath[1] === userType) {\n\t\t\tfor (i = 2; i < splitPath.length; i++)\n\t\t\t\troute += '/' + splitPath[i];\n\t\t}\n\t\treturn route;\n\t},\n\tuserTypeToString: function (userType) {\n\t\tvar result = '';\n\t\tswitch (userType) {\n\t\t\tcase 0: result = Role.Group.ADMIN; break;\n\t\t\tcase 1: result = Role.Group.INSTRUCTOR; break;\n\t\t\tcase 2: result = Role.Group.STUDENT; break;\n\t\t\tdefault: result = Role.Group.GUEST; break;\n\t\t}\n\t},\n\tdayToString: function (days) {\n\t\tvar result = '';\n\t\tdays.forEach(function (value) {\n\t\t\tvalue += '';\n\t\t\tswitch (value) {\n\t\t\t\tcase '1': result += 'Sun'; break;\n\t\t\t\tcase '2': result += 'M'; break;\n\t\t\t\tcase '3': result += 'T'; break;\n\t\t\t\tcase '4': result += 'W'; break;\n\t\t\t\tcase '5': result += 'Th'; break;\n\t\t\t\tcase '6': result += 'F'; break;\n\t\t\t\tcase '7': result += 'Sat'; break;\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t},\n\ttimeToString: function (hour, minute, offset) {\n\t\tvar period = 'AM';\n\n\t\thour = parseInt(hour + offset / 60);\n\t\tminute = parseInt(minute) + parseInt(offset) % 60;\n\n\t\tif (hour > 12) {\n\t\t\tperiod = 'PM';\n\t\t\thour -= 12;\n\t\t}\n\n\t\tif (minute >= 60) {\n\t\t\tminute -= 60;\n\t\t\thour++;\n\t\t}\n\n\t\tif (minute < 10) {\n\t\t\tminute = '0' + minute;\n\t\t}\n\n\t\tvar str = hour + ':' + minute + ' ' + period;\n\t\treturn str;\n\t},\n\tscheduleToString: function (schedule) {\n\t\tvar result = Helpers.dayToString(schedule.day);\n\t\tresult += ' ' + Helpers.timeToString(schedule.hour, schedule.minute, 0) + ' - ' +\n\t\t\tHelpers.timeToString(schedule.hour, schedule.minute, schedule.duration);\n\t\treturn result;\n\t},\n\tgetDurationPast: function (time, hour, minute) {\n\t\tvar duration = (time.getHours() - hour) * 60;\n\t\tduration += time.getMinutes() - minute;\n\t\treturn duration;\n\t},\n\tcreateNewPeer: function() {\n\t\treturn new Peer({\n\t\t\tkey: 'dqxm490i2c07ldi',  // change this key\n\t\t\tdebug: 3,\n\t\t\tconfig: {'iceServers': [\n\t\t\t\t{ url: 'stun:stun.l.google.com:19302' },\n\t\t\t\t{ url: 'stun:stun1.l.google.com:19302' },\n\t\t\t\t{ url: 'stun:stun2.l.google.com:19302' },\n\t\t\t\t{ url: 'stun:stun3.l.google.com:19302' },\n\t\t\t\t{ url: 'stun:stun4.l.google.com:19302' },\n\t\t\t\t{\n\t\t\t\t\turl: 'turn:numb.viagenie.ca',\n\t\t\t\t\tcredential: 'muazkh',\n\t\t\t\t\tusername: 'webrtc@live.com'\n\t\t\t\t}\n\t\t\t]}\n\t\t});\n\t},\n\tgetCurrentClass: function () {\n\t\tvar time = new Date(Session.get('time'));\n\t\tvar enrolledSubjects = Enrollees.find({ user: Meteor.userId() });\n\t \tvar enrolledIds = enrolledSubjects.map(function (c) { return c.section; });\n\t\tvar result = Sections.findOne({\n\t\t\t_id: { $in: enrolledIds },\n\t\t\tday: ( time.getDay() + 1 ),\n\t\t\thour: { $lte: time.getHours() }\n\t\t}, { sort: { hour: -1, minute: -1 }});\n\t\t\n\t\tconsole.log(\"class >> \" + JSON.stringify(result) + '\\nday >> ' + time.getDay() + '\\nhour >> ' + time.getHours());\n\n\t\tif (result != null && result != undefined && \n\t\t\t\tHelpers.getDurationPast(time, result.hour, result.minute) < result.duration) {\n\t\t\tconsole.log(\"duration >> \" + result.duration + \"\\ntime passed >> \" + \n\t\t\t\tHelpers.getDurationPast(time, result.hour, result.minute));\n\t\t\t// Session.set('class', result._id);\n\t\t\t// console.log('enrolled id >> ' + Session.get('class'));\n\t\t\t// FlowRouter.go(getRouteGroup() + '/current/enter');\n\t\t\treturn result;\n\t\t} else {\n\t\t\t// alert('No classes currently held.');\n\t\t\treturn null;\n\t\t}\n\t},\n\tgetTime: function () {\n\t\treturn new Date(Session.get('time'));\n\t}\n};\n\nMediaHelpers = {\n\trequestUserMedia: function() {\n\t\tconsole.log('getting user media');\n\t\tnavigator.getUserMedia = (\n\t\t\tnavigator.webkitGetUserMedia ||\n\t\t\tnavigator.mozGetUserMedia ||\n\t\t\tnavigator.msGetUserMedia ||\n\t\t\tnavigator.getUserMedia\n\t\t);\n\t},\n\trequestFeed: function (target, peer, audioParams, videoParams) {\n\t\tMediaHelpers.requestUserMedia();\n\t\tconsole.log('setting user media parameters');\n\t\tnavigator.getUserMedia(\n\t\t\t{\n\t\t\t\taudio: audioParams,\n\t\t\t\tvideo: videoParams\n\t\t\t}, function (stream) {\n\t\t\t\ttarget.src = URL.createObjectURL(stream);\n\t\t\t\tpeer.localStream = stream;\n\t\t\t}, function (error) {\n\t\t\t\tconsole.log('Feed not available.\\n' + error);\n\t\t});\n\t},\n\trequestScreenFeed: function(target, peer) {\n\t\t$('#share-camera').removeAttr('disabled');\n\t\t$('#share-screen').attr('disabled', 'disabled');\n\t\tMediaHelpers.requestFeed(target, peer, true, {\n\t\t\tmandatory: {\n\t\t\t\tchromeMediaSource: 'screen',\n\t\t\t\tmaxWidth: 1280,\n\t\t\t\tmaxHeight: 720\n\t\t\t},\n\t\t\toptional: []\n\t\t});\n\t},\n\trequestCameraFeed: function(target, peer) {\n\t\t$('#share-screen').removeAttr('disabled');\n\t\t$('#share-camera').attr('disabled', 'disabled');\n\t\tMediaHelpers.requestFeed(target, peer, true, true);\n\t}\n};\n\n// sync client clock with server time with an interval\nsetInterval(function () {\n\tMeteor.call('getServerTime', function (error, result) {\n\t\tSession.set('time', result);\n\t});\n}, 1000);\n\n// redirect on login\nAccounts.onLogin(function() {\n\tvar route;\n\tvar currentPath = FlowRouter.current().path;\n\tvar user = Users.findOne(Meteor.userId());\n\tconsole.log('path >> ' + currentPath + '\\nuser >> ' + JSON.stringify(user));\n\tsplitPath = currentPath.split('/');\n\tswitch (user.profile.user_type) {\n\t\tcase 0: route = Helpers.generateRedirectRoute(splitPath, 'admin'); break;\n\t\tcase 1: route = Helpers.generateRedirectRoute(splitPath, 'instructor'); break;\n\t\tcase 2: route = Helpers.generateRedirectRoute(splitPath, 'student'); break;\n\t\tdefault: route = '/login'\n\t}\n\tFlowRouter.go(route);\n});\n\nhotKey = new Hotkeys({\n\tautoLoad : false\n});\n\n//for the sidebar parts\nhotKey.add({\n\n\tcombo : \"shift+q\",\n\tcallback : function()\n\t{\n\t\tFlowRouter.go(\"/admin/user/new\");\n\t}\n})\n\nhotKey.add({\n\tcombo : \"shift+w\",\n\tcallback : function()\n\t{\n\t\tFlowRouter.go(\"/admin/user/\");\n\t}\n})\n\nhotKey.add({\n\tcombo : \"shift+f\",\n\tcallback : function()\n\t{\n\t\tFlowRouter.go(\"/admin/section/new\");\n\t}\n})\n\nhotKey.add({\n\tcombo : \"shift+p\",\n\tcallback : function()\n\t{\n\t\tFlowRouter.go(\"/admin/section\");\n\t}\n})\n\nhotKey.add({\n\tcombo : \"shift+g\",\n\tcallback : function()\n\t{\n\t\tFlowRouter.go(\"/admin/section/enroll\");\n\t}\n})\n\nhotKey.add({\n\tcombo : \"shift+j\",\n\tcallback : function()\n\t{\n\t\tFlowRouter.go(\"/admin/course/new\");\n\t}\n})\n\nhotKey.add({\n\tcombo : \"shift+l\",\n\tcallback : function()\n\t{\n\t\tFlowRouter.go(\"/admin/course/\");\n\t}\n})\n\nhotKey.add({\n\tcombo : \"shift+u\",\n\tcallback : function()\n\t{\n\t\tFlowRouter.go(\"/admin/semester/new\");\n\t}\n})\n\nhotKey.add({\n\tcombo : \"shift+y\",\n\tcallback : function()\n\t{\n\t\tFlowRouter.go(\"/admin/semester/\");\n\t}\n})\n\nhotKey.add({\n\tcombo : \"shift+m\",\n\tcallback : function()\n\t{\n\t\tconsole.log(\"shift+m was pressed\");\n\t}\n})\n\n\nTemplate.registerHelper\n(\n\t'equals', function (a, b)\n\t{\n\t\treturn a == b;\n\t}\n);\n\nTemplate.registerHelper\n(\n\t'not', function (a)\n\t{\n\t\treturn !a;\n\t}\n);\n\nTemplate.registerHelper\n(\n\t'notEquals', function (a, b)\n\t{\n\t\treturn a != b;\n\t}\n);\n\nTemplate.registerHelper\n(\n\t'greaterThan', function (a, b)\n\t{\n\t\treturn a > b;\n\t}\n);\n\nTemplate.registerHelper\n(\n\t'minusTwelve', function (a)\n\t{\n\t\treturn parseInt(a) - 12;\n\t}\n);\n\nTemplate.registerHelper\n(\n\t'computeTimeEndHour', function (start_hour, duration)\n\t{\n\t\tvar end_hour = start_hour + parseInt(duration/60);\n\n\t\t/*if (end_hour > 12)\n\t\t{\n\t\t\tend_hour =- 12;\n\t\t}*/\n\n\t\treturn end_hour;\n\t}\n);\n\nTemplate.registerHelper\n(\n\t'computeTimeEndMinute', function (start_minute, duration)\n\t{\n\t\tvar end_minute = start_minute - (duration%60);\n\n\t\tif (end_minute < 0)\n\t\t{\n\t\t\tend_minute += 60;\n\t\t}\n\n\t\tif (end_minute == 0)\n\t\t{\n\t\t\tend_minute += '0';\n\t\t}\n\n\t\treturn end_minute;\n\t}\n);\n\nTemplate.registerHelper\n(\n\t'currentPage', function()\n\t{\n\t\tvar routeName = FlowRouter.getRouteName();\n\t\tconsole.log(routeName);\n\t\treturn routeName;\n\t}\n);\n"]}