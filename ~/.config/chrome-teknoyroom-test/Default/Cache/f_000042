{"version":3,"sources":["meteor://ðŸ’»app/client/components/admin/enroll-form.js"],"names":[],"mappings":"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","file":"/client/components/admin/enroll-form.js","sourcesContent":["Template.enrollForm.onCreated(function () {\n\n\tvar self = this;\n\tself.autorun(function () {\n\t\tself.subscribe(SubscriptionTag.ALL_USERS);\n\t\tself.subscribe(SubscriptionTag.ALL_SECTIONS);\n\t\tself.subscribe(SubscriptionTag.ALL_COURSES);\n\t\tself.subscribe(SubscriptionTag.ALL_SEMESTERS);\n\t\tself.subscribe(SubscriptionTag.ALL_ENROLLEES);\n\t});\n});\n\nvar section = {\n\t_id: 'new',\n\tname: '',\n\tsemester: '',\n\tcourse: '',\n\tday: [],\n\thour: 0,\n\tminute: 0,\n\tduration: 0\n}\n\nvar sectionDependency = new Tracker.Dependency();\n\nvar instructor = {\n\t_id: 'new',\n\tprofile: {\n\t\tid_number: '',\n\t\tfirst_name: '',\n\t\tmiddle_name: '',\n\t\tlast_name: '',\n\t\tdepartment: ''\n\t}\n};\n\nvar instructorDependency = new Tracker.Dependency();\n\n\n\nvar enrollee = {\n\t_id: 'new',\n\tsection: '',\n\tinstructor: '',\n\tuser: []\n};\n\nvar enrolleeDependency = new Tracker.Dependency();\n\nvar students = [{\n\t\t_id: '',\n\t\tprofile: {\n\t\t\tid_number: '',\n\t\t\tfirst_name: '',\n\t\t\tmiddle_name: '',\n\t\t\tlast_name: '',\n\t\t\tgender:'',\n\t\t\tprogram: '',\n\t\t\tyear: 0\n\t\t},\n\t\tisChecked: false,\n\t\tisEnrolled: false\n\t}];\n\nvar studentsDependency = new Tracker.Dependency();\n\nvar flag = false;\nvar flagStudent = false;\nvar flagStudent2 = false;\nvar student = {\n\t\t\t_id: '',\n\t\t\tprofile: {\n\t\t\t\tid_number: '',\n\t\t\t\tfirst_name: '',\n\t\t\t\tmiddle_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tgender:'',\n\t\t\t\tprogram: '',\n\t\t\t\tyear: 0\n\t\t\t},\n\t\t\tisChecked: false,\n\t\t\tisEnrolled: false\n\t\t};\n\nTracker.autorun(function(){\n\tvar id = FlowRouter.getParam('id');\n\n\tif (id == 'students')\n\t{\n\t\tconsole.log('tracker');\n\t\tinstructor = {\n\t\t\t_id: 'new',\n\t\t\tprofile: \n\t\t\t{\n\t\t\t\tid_number: '',\n\t\t\t\tfirst_name: '',\n\t\t\t\tmiddle_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tdepartment: ''\n\t\t\t}\n\t\t};\n\n\t\tsection = {\n\t\t\t_id: 'new',\n\t\t\tname: '',\n\t\t\tsemester: '',\n\t\t\tcourse: '',\n\t\t\tday: [],\n\t\t\thour: 0,\n\t\t\tminute: 0,\n\t\t\tduration: 0\n\t\t};\n\n\t\tenrollee = {\n\t\t\t_id: 'new',\n\t\t\tsection: '',\n\t\t\tinstructor: '',\n\t\t\tuser: []\n\t\t};\n\n\t\tstudents = [{\n\t\t\t_id: '',\n\t\t\tprofile: {\n\t\t\t\tid_number: '',\n\t\t\t\tfirst_name: '',\n\t\t\t\tmiddle_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tgender:'',\n\t\t\t\tprogram: '',\n\t\t\t\tyear: 0\n\t\t\t},\n\t\t\tisChecked: false,\n\t\t\tisEnrolled: false\n\t\t}];\n\n\t\tflag = false;\n\t\tflagStudent = false;\n\t\tflagStudent2 = false;\n\t\tstudent = {\n\t\t\t_id: '',\n\t\t\tprofile: {\n\t\t\t\tid_number: '',\n\t\t\t\tfirst_name: '',\n\t\t\t\tmiddle_name: '',\n\t\t\t\tlast_name: '',\n\t\t\t\tgender:'',\n\t\t\t\tprogram: '',\n\t\t\t\tyear: 0\n\t\t\t},\n\t\t\tisChecked: false,\n\t\t\tisEnrolled: false\n\t\t};\n\t}\n});\n\nTemplate.enrollForm.helpers\n(\n\t{\n\t\tstudents: function()\n\t\t{\n\t\t\tstudentsDependency.depend();\n\t\t\tvar cursorArray = Users.find({'profile.user_type': 2, 'profile.banned': false}).fetch();\n\t\t\t\n\t\t\tif (enrollee._id != 'new')\n\t\t\t{\n\t\t\t\tif (!flagStudent2)\n\t\t\t\t{\n\t\t\t\t\tfor (var i = 0; i < enrollee.user.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (var j = 0; j < students.length; j++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (students[j]._id == enrollee.user[i]._id)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstudents[j].isChecked = true;\n\t\t\t\t\t\t\t\tstudents[j].isEnrolled = true;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tflagStudent2 = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (flagStudent)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (var j = 0; j < students.length; j++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (students[j]._id == student._id)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstudents[j].isChecked = !student.isChecked;\n\t\t\t\t\t\t\t\ti = j;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tflagStudent = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!flagStudent2)\n\t\t\t\t{\n\t\t\t\t\tfor (var i = 0; i < cursorArray.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tstudents[i] = ({\n\t\t\t\t\t\t\t_id: cursorArray[i]._id,\n\t\t\t\t\t\t\tprofile : {\n\t\t\t\t\t\t\t\tid_number: cursorArray[i].profile.id_number,\n\t\t\t\t\t\t\t\tfirst_name: cursorArray[i].profile.first_name,\n\t\t\t\t\t\t\t\tmiddle_name: cursorArray[i].profile.middle_name,\n\t\t\t\t\t\t\t\tlast_name: cursorArray[i].profile.last_name,\n\t\t\t\t\t\t\t\tgender: cursorArray[i].profile.gender,\n\t\t\t\t\t\t\t\tprogram: cursorArray[i].profile.program,\n\t\t\t\t\t\t\t\tyear: cursorArray[i].profile.year\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tisChecked: false,\n\t\t\t\t\t\t\tisEnrolled: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tflagStudent2 = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (flagStudent)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (var j = 0; j < students.length; j++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (students[j]._id == student._id)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstudents[j].isChecked = !student.isChecked;\n\t\t\t\t\t\t\t\ti = j;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tflagStudent = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn students;\n\t\t},\n\n\t\tinstructors: function()\n\t\t{\n\t\t\treturn Users.find({'profile.user_type': 1, 'profile.banned': false});\t\n\t\t},\n\n\t\tinstructor: function()\n\t\t{\n\t\t\tinstructorDependency.depend();\n\t\t\tif (enrollee._id != 'new')\n\t\t\t{\n\t\t\t\tif (!flag)\n\t\t\t\t{\n\t\t\t\t\tinstructor = enrollee.instructor;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{ \n\t\t\t\tif (enrollee.instructor == 'new' && !flag)\n\t\t\t\t{\n\t\t\t\t\tinstructor = {\n\t\t\t\t\t\t_id: 'new',\n\t\t\t\t\t\tprofile: \n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid_number: '',\n\t\t\t\t\t\t\tfirst_name: '',\n\t\t\t\t\t\t\tmiddle_name: '',\n\t\t\t\t\t\t\tlast_name: '',\n\t\t\t\t\t\t\tdepartment: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn instructor;\n\t\t},\n\n\t\tsections: function ()\n\t\t{\n\t\t\tvar result = [];\n\t\t\tSections.find({}).forEach(function (item) {\n\t\t\t\titem.course = Courses.findOne(item.course) || '';\n\t\t\t\titem.semester = Semesters.findOne(item.semester) || '';\n\t\t\t\tresult.push(item);\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\tsection: function()\n\t\t{\n\t\t\tsectionDependency.depend();\n\t\t\tif (section._id != 'new')\n\t\t\t{\n\t\t\t\tsection._id = section._id;\n\t\t\t\tsection.course = Courses.findOne(section.course);\n\t\t\t\tsection.semester = Semesters.findOne(section.semester);\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t\treturn section;\n\t\t},\n\n\t\tenrollee: function()\n\t\t{\n\t\t\tenrolleeDependency.depend();\n\t\t\tif (section._id != 'new')\n\t\t\t{\n\t\t\t\tvar enrollees = Enrollees.find({'section': section._id}).fetch();\n\n\t\t\t\tif (enrollees.length)\n\t\t\t\t{\n\t\t\t\t\tenrollee._id = enrollees[0]._id;\n\t\t\t\t\tvar users = enrollees.map(function (item) { return item.user; });\n\t\t\t\t\tenrollee.section = section._id;\n\t\t\t\t\tenrollee.instructor =  Users.find({ '_id': { '$in': users } , 'profile.user_type': 1}).fetch()[0];\n\t\t\t\t\tenrollee.user = Users.find({ '_id': { '$in': users } , 'profile.user_type': 2}).fetch();\n\t\t\t\t\tstudentsDependency.changed();\n\t\t\t\t\tinstructorDependency.changed();\n\t\t\t\t\tflagStudent2 = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tenrollee = {\n\t\t\t\t\t\t_id: 'new',\n\t\t\t\t\t\tsection: '',\n\t\t\t\t\t\tinstructor: 'new',\n\t\t\t\t\t\tuser: []\n\t\t\t\t\t};\n\t\t\t\t\tstudentsDependency.changed();\n\t\t\t\t\tinstructorDependency.changed();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn enrollee;\n\t\t},\n\t}\n);\n\nTemplate.enrollForm.events\n(\n\t{\n\t\t'click #instructor': function (event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\t$('#instructor_modal').modal('show');\n\t\t},\n\n\t\t'click #section': function (event)\n\t\t{\n\t        event.preventDefault();\n\t        $('#section_modal').modal('show');\n\t\t},\n\n\t\t'click .section': function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tsection = this;\n\t\t\tsectionDependency.changed();\n\t\t\tenrolleeDependency.changed();\n\t        $('#section_modal').modal('hide');\t\n\t\t},\n\n\t\t'click .instructor': function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tinstructor = this;\n\t\t\tflag = true;\n\t\t\tinstructorDependency.changed();\n\t        $('#instructor_modal').modal('hide');\t\n\t\t},\n\n\t\t'change .studentsCheckbox': function(event)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tstudent = this;\n\t\t\tflagStudent = true;\n\t\t\tstudentsDependency.changed();\n\t\t},\n\n\t\t'submit #frmEnrollStudents': function(event, template)\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t\tvar section = event.target.sectionId.value;\n\t\t\tvar assignedInstructor = event.target.instructorId.value;\n\t\t\tvar enrollees = [];\n\n\t\t\tif (section != 'new' && assignedInstructor != 'new')\n\t\t\t{\n\t\t\t\tconsole.log(section);\n\t\t\t\tconsole.log(assignedInstructor);\n\t\t\t\tif (assignedInstructor != enrollee.instructor._id)\n\t\t\t\t{\n\t\t\t\t\tif (enrollee.instructor._id != undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar cursor = Enrollees.findOne({'user': enrollee.instructor._id});\n\t\t\t\t\t\tMeteor.call('deleteEnrollee', cursor._id);\n\t\t\t\t\t}\n\n\t\t\t\t\tenrollees.push({user: assignedInstructor, section: section, attendance: [{ date: new Date(), time_in: new Date(), time_out: new Date() }, { date: new Date('February 29, 2016'), time_in: new Date('February 29, 2016'), time_out: new Date('February 29, 2016') }] });\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0; i < students.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (students[i].isChecked)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!students[i].isEnrolled)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tenrollees.push({ user: students[i]._id, section: section, attendance: [{ date: new Date(), time_in: new Date(), time_out: new Date() }] });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (students[i].isEnrolled)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar enrolleeId = Enrollees.findOne({'user': students[i]._id});\n\t\t\t\t\t\t\tMeteor.call('deleteEnrollee', enrolleeId._id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tMeteor.call('addEnrollee', enrollees);\n\t\t\t\tFlowRouter.go('/admin/enroll/');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('.toast').fadeIn(400).delay(3000).fadeOut(400); //fade out after 3 seconds\n\t\t\t}\n\t\t}\n\t}\n);"]}